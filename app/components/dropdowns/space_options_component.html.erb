<%= render BaseUI::DropdownComponent.new(id: "space-options-dropdown") do |dropdown| %>
  <%= dropdown.with_button(options: {class: "btn-sm-icon-ghost border border-primary rounded-full hover:bg-primary group"}) do %>
    <%= render BaseUI::IconComponent.new(name: "dots-three", size: "1.5rem", class_name: "fill-primary group-hover:fill-primary-foreground") %>
  <% end %>

  <%= dropdown.with_menu_popover(options: {class: "w-[200px]"}) do |dropdown_menu_popover| %>
    <%= dropdown_menu_popover.with_menu do |dropdown_menu| %>
      <%= dropdown_menu.with_item do %>
        <%= link_to atom_path(space.identifier), class: "flex gap-2 items-center w-full", target: "_blank" do %>
          <%= render BaseUI::IconComponent.new(name: "rss", size: "18px", class_name: "fill-primary") %>

          <%= t("nouns.rss_feed") %>
        <% end %>
      <% end %>

      <% if signed_in? %>
        <%= dropdown_menu.with_item do %>
          <%= link_to new_topic_path(space.identifier), class: "flex gap-2 items-center w-full" do %>
            <%= render BaseUI::IconComponent.new(name: "plus", size: "18px", class_name: "fill-primary") %>

            <%= t("nouns.new_topic") %>
          <% end %>
        <% end %>

        <%= dropdown_menu.with_item do %>
          <%= link_to trash_path(space.identifier), class: "flex gap-2 items-center w-full" do %>
            <%= render BaseUI::IconComponent.new(name: "trash", size: "18px", class_name: "fill-primary") %>

            <%= t("nouns.trash") %>
          <% end %>
        <% end %>

        <%= dropdown_menu.with_item do %>
          <%= link_to space_settings_path(space.identifier), class: "flex gap-2 items-center w-full" do %>
            <%= render BaseUI::IconComponent.new(name: "gear-regular", size: "18px", class_name: "fill-primary") %>

            <%= t("nouns.settings") %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
  <% end %>
<% end %>
