# typed: true

# DO NOT EDIT MANUALLY
# This is an autogenerated file for types exported from the `active_record_query_trace` gem.
# Please instead update this file by running `bin/tapioca gem active_record_query_trace`.

module ActiveRecordQueryTrace
  class << self
    # Returns the value of attribute backtrace_cleaner.
    def backtrace_cleaner; end

    def backtrace_cleaner=(cleaner); end

    # Returns the value of attribute colorize.
    def colorize; end

    # Sets the attribute colorize
    #
    # @param value the value to set the attribute colorize to.
    def colorize=(_arg0); end

    # Returns the value of attribute enabled.
    def enabled; end

    # Sets the attribute enabled
    #
    # @param value the value to set the attribute enabled to.
    def enabled=(_arg0); end

    # Returns the value of attribute ignore_cached_queries.
    def ignore_cached_queries; end

    # Sets the attribute ignore_cached_queries
    #
    # @param value the value to set the attribute ignore_cached_queries to.
    def ignore_cached_queries=(_arg0); end

    # Returns the value of attribute level.
    def level; end

    # Sets the attribute level
    #
    # @param value the value to set the attribute level to.
    def level=(_arg0); end

    # Returns the value of attribute lines.
    def lines; end

    # Sets the attribute lines
    #
    # @param value the value to set the attribute lines to.
    def lines=(_arg0); end

    # Returns the value of attribute query_type.
    def query_type; end

    # Sets the attribute query_type
    #
    # @param value the value to set the attribute query_type to.
    def query_type=(_arg0); end

    # Returns the value of attribute suppress_logging_of_db_reads.
    def suppress_logging_of_db_reads; end

    # Sets the attribute suppress_logging_of_db_reads
    #
    # @param value the value to set the attribute suppress_logging_of_db_reads to.
    def suppress_logging_of_db_reads=(_arg0); end
  end
end

ActiveRecordQueryTrace::BACKTRACE_PREFIX = T.let(T.unsafe(nil), String)
ActiveRecordQueryTrace::COLORS = T.let(T.unsafe(nil), Hash)

class ActiveRecordQueryTrace::CustomLogSubscriber < ::ActiveRecord::LogSubscriber
  # @return [CustomLogSubscriber] a new instance of CustomLogSubscriber
  def initialize; end

  def sql(event); end

  private

  # @return [Boolean]
  def cached_query?(payload); end

  def clean_trace(full_trace); end
  def color_code; end

  # Allow query to be colorized in the terminal
  def colorize_text(text); end

  # @return [Boolean]
  def db_read_query?(payload); end

  # @return [Boolean]
  def display_backtrace?(payload); end

  # @return [Boolean]
  def display_backtrace_for_query_type?(payload); end

  def fully_formatted_trace; end

  # Must be called after the backtrace cleaner.
  def lines_to_display(full_trace); end

  # Wrapper used for testing purposes.
  def original_trace; end

  def rails_root_prefix; end

  # This cannot be set in a constant as Rails.root is not yet available when
  # this file is loaded.
  def rails_root_regexp; end

  def remove_filters_and_silencers; end

  # @return [Boolean]
  def schema_query?(payload); end

  # Rails by default silences all backtraces that *do not* match
  # Rails::BacktraceCleaner::APP_DIRS_PATTERN. In other words, the default
  # silencer filters out all framework backtrace lines, leaving only the
  # application lines.
  def setup_backtrace_cleaner; end

  # Rails relies on backtrace cleaner to set the application root directory
  # filter. The problem is that the backtrace cleaner is initialized before
  # this gem. This ensures that the value of `root` used by the filter
  # is correct.
  def setup_backtrace_cleaner_path; end

  # @return [Boolean]
  def transaction_begin_or_commit_query?(payload); end

  # @return [Boolean]
  def valid_color_code?(color_code); end

  def validate_color_code(color_code); end
end

ActiveRecordQueryTrace::INDENTATION = T.let(T.unsafe(nil), String)
